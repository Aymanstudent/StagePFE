<div #scheduler_here class="dhx_cal_container" style="width: 100%; height: 100vh; padding-top: 100px">
  <div class="dhx_cal_navline">
    <div class="dhx_cal_prev_button"></div>
    <div class="dhx_cal_next_button"></div>
    <div class="dhx_cal_today_button"></div>
    <div class="dhx_cal_date"></div>
    <div class="dhx_cal_tab" data-tab="day"></div>
    <div class="dhx_cal_tab" data-tab="week"></div>
    <div class="dhx_cal_tab" data-tab="month"></div>
  </div>
  <div class="dhx_cal_header"></div>
  <div class="dhx_cal_data"></div>
</div>
<div id="event-container"></div>
<div class="modal" id="custom_form">
  <div><h3>Nouvelle Event</h3></div>
  <div class="row">
    <div class="col">
      <label for="chantier" class="form-label">Chantier : </label>
      <select id="chantier" class="form-select">
        <option *ngFor="let item of chantier_sections">{{item.description}} {{item.emplacement}}</option>
      </select>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col">
      <div class="d-flex align-items-center"><label class="form-label">Ouvrier : </label><i class="bi bi-plus-square-fill ms-3 " style="font-size: 1.3rem; color: #3b7ddd;" data-bs-toggle="modal" data-bs-target="#exampleModal"></i></div>
      <div class="d-flex align-items-center flex-wrap"><span class="technicien" *ngFor = "let item of ouvriers" >{{item}}</span></div>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col">
      <label for="vehicule" class="form-label">Vehicule : </label>
      <select id="vehicule" class="form-select" (change)="affecterVehicule($event)">
        <option *ngFor="let item of vehicule_sections" [value]="item.id">{{item.marque}} {{item.modele}}</option>
      </select>
    </div>
  </div>
  <div class="taches mt-3" data-bs-toggle="modal" data-bs-target="#tacheModal">Taches</div>
  <div class="d-flex align-items-center justify-content-between p-3 mt-3" style="height: fit-content;">
    <button class="btn btn-light" (click)="close_form()">cancel</button>
    <button class="btn btn-primary" (click)="save_form()">save</button>
  </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <label for="ouvrier" class="form-label">Ouvriers : </label>
        <select id="ouvrier" class="form-select" (change)="affecterOuvrier($event)">
          <option *ngFor="let item of ouvrier_section" [value]="item.id">{{item.personne.nom}} {{item.personne.prenom}}</option>
        </select>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="ajouterOuvrier()">ok</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="tacheModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div class="input-group mb-3" *ngFor="let item of tache_section">
          <div class="input-group-text">
            <input class="form-check-input mt-0" type="checkbox" value="" aria-label="Checkbox for following text input" (change)="affecterTache($event,item)">
          </div>
          <input type="text" value="{{item.description}}" class="form-control" aria-label="Text input with checkbox" disabled>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="ajouterTaches()">ok</button>
      </div>
    </div>
  </div>
</div>

